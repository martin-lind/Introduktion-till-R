[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Introduktion till R",
    "section": "",
    "text": "Introduktion till statistisk analys i R för biologer\nHemsidan är under uppbyggnad, en första version beräknas vara färdig i februari 2026, och kommer kontinuerligt att fyllas på med material.\nHemsidan byggs av Martin Lind, Högskolan i Halmstad och Uppsala Universitet."
  },
  {
    "objectID": "tutorials/linear-regression/index.html",
    "href": "tutorials/linear-regression/index.html",
    "title": "Linjär regression",
    "section": "",
    "text": "En regressionsanalys används om man är intresserad av ett orsakssamband mellan två kontinuerliga variabler. Den man är intresserad av att förklara och som är y-axeln i en graf kallas responsvariabel (eller beroende variabel) medan den variabel som man vill förklara med kallas prediktor (eller oberoende variabel) och utgör x-axeln.\nDen enklaste typen av regression är en linjär regression. När man behärskar den linjära regressionen kan den enkelt byggas ut för att även studera icke-linjära samband, olika regressionslinjer för olika grupper och ännu mer avancerade samband.\nEn linjär regression har följande krav på datat\nResidual En residual är skillnaden mellan ett mätvärda av responsvariabeln och det förutsagda värdet av responsvariabeln om det hade varit placerat exakt på regressionslinjen. Ju längre från linjen (i y-led) en punkt ligger, desto större residual."
  },
  {
    "objectID": "tutorials/linear-regression/index.html#overview",
    "href": "tutorials/linear-regression/index.html#overview",
    "title": "Linear Regression in R",
    "section": "",
    "text": "In this tutorial we learn how to fit linear models in R."
  },
  {
    "objectID": "tutorials/linear-regression/index.html#dataset",
    "href": "tutorials/linear-regression/index.html#dataset",
    "title": "Linear Regression in R",
    "section": "Dataset",
    "text": "Dataset\nDownload the dataset here: Download housing data"
  },
  {
    "objectID": "tutorials/linear-regression/index.html#load-data",
    "href": "tutorials/linear-regression/index.html#load-data",
    "title": "Linear Regression in R",
    "section": "Load data",
    "text": "Load data\n\n\nCode\n#housing &lt;- read.csv(\"data/housing.csv\")\n#summary(housing)"
  },
  {
    "objectID": "tutorials/linear-regression/index.html#screenshots-figures-and-teaching-friendly-options",
    "href": "tutorials/linear-regression/index.html#screenshots-figures-and-teaching-friendly-options",
    "title": "Linear Regression in R",
    "section": "8. Screenshots, figures, and teaching-friendly options",
    "text": "8. Screenshots, figures, and teaching-friendly options\nHighly recommended options for teaching:\nformat:\n  html:\n    toc: true\n    toc-depth: 3\n    code-fold: show\n    code-summary: \"Show R code\""
  },
  {
    "objectID": "tutorials/index.html",
    "href": "tutorials/index.html",
    "title": "Tutorials",
    "section": "",
    "text": "Installera R\nAnvända R, en introduktion\nInstallera paket\nLäsa in data i R\n\n\n\n\n\nt-test\nLinjär regression\nAnova [Ej påbörjad]\nKorrelation [Under utveckling]\nChi2 [Ej påbörjad]\nFaktoriell design [Ej påbörjad]\nAncova [Ej påbörjad]\nIcke-parametriska tester [Ej påbörjad]"
  },
  {
    "objectID": "tutorials/index.html#lista-över-tutorials",
    "href": "tutorials/index.html#lista-över-tutorials",
    "title": "Tutorials",
    "section": "",
    "text": "Installera R\nAnvända R, en introduktion Ej påbörjad\nInstallera paket\nLäsa in data i R\n\n\n\n\n\nt-test Ej påbörjad\nLinjär regression Ej påbörjad\nAnova Ej påbörjad\nKorrelation Ej påbörjad\nChi2 Ej påbörjad\n\n\n\n\n\nUtvecklingstest av funktioner och kod Test"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "Om",
    "section": "",
    "text": "Hemsidan är tänkt att användas i statistikutbildning för biologer, med fokus på utbildningen vid Högskolan i Halmstad. På sikt skall den även fungera som en referens för vanliga analysmetoder.\nHemsidan är skriven i Quarto, implementerat i R Studio.\nAnsvarig för hemsidan är Martin Lind"
  },
  {
    "objectID": "tutorials/testbed/index.html",
    "href": "tutorials/testbed/index.html",
    "title": "Linear Regression in R",
    "section": "",
    "text": "In this tutorial we learn how to fit linear models in R."
  },
  {
    "objectID": "tutorials/testbed/index.html#overview",
    "href": "tutorials/testbed/index.html#overview",
    "title": "Linear Regression in R",
    "section": "",
    "text": "In this tutorial we learn how to fit linear models in R."
  },
  {
    "objectID": "tutorials/testbed/index.html#dataset",
    "href": "tutorials/testbed/index.html#dataset",
    "title": "Linear Regression in R",
    "section": "Dataset",
    "text": "Dataset\nDownload the dataset here: Download housing data"
  },
  {
    "objectID": "tutorials/testbed/index.html#load-data",
    "href": "tutorials/testbed/index.html#load-data",
    "title": "Linear Regression in R",
    "section": "Load data",
    "text": "Load data\n\n\nCode\n#housing <- read.csv(\"data/housing.csv\")\n#summary(housing)"
  },
  {
    "objectID": "tutorials/testbed/index.html#screenshots-figures-and-teaching-friendly-options",
    "href": "tutorials/testbed/index.html#screenshots-figures-and-teaching-friendly-options",
    "title": "Linear Regression in R",
    "section": "8. Screenshots, figures, and teaching-friendly options",
    "text": "8. Screenshots, figures, and teaching-friendly options\nHighly recommended options for teaching:\nformat:\n  html:\n    toc: true\n    toc-depth: 3\n    code-fold: show\n    code-summary: \"Show R code\""
  },
  {
    "objectID": "tutorials/read-data/index.html",
    "href": "tutorials/read-data/index.html",
    "title": "Läsa in data i R",
    "section": "",
    "text": "Det första steget, innan man gör en statistisk analys, är alltid att läsa in data i R.\nVi kommer att gå igen följande:"
  },
  {
    "objectID": "tutorials/read-data/index.html#dataformat",
    "href": "tutorials/read-data/index.html#dataformat",
    "title": "Läsa in data i R",
    "section": "Dataformat",
    "text": "Dataformat\nR kan hantera ett stort antal dataformat, vissa av dem läses automatiskt, andra kräver att man laddar ner och installerar specialiserade paket.\n\nVanliga datatyper som R kan läsa in (många fler alternativ finns)\n\n\nFiländelse\nBeskrivning\nFunktion\nExtra paket krävs\nKommentarer\n\n\n\n\ntxt\nTab-avgränsad text\nread.table()\n-\n\n\n\ncsv\nKomma/semikolon-avgränsad text\nread.csv()\n-\nSpecificera om avgränsningen är “,” eller “;”\n\n\nxlsx\nExceldokument\nread.xlsx()\nopenxlsx\nSe paketets dokumentation\n\n\nrda rdata\nR-datafil\nload()\n\n\n\n\nsas7bdat sas7bcat dta sav\nSAS\nStata\nSPSS\nread_sas()\nread_dta()\nread_sav()\nhaven\nSe paketets dokumentation\n\n\n\nVi har redan testat att läsa in en tab-avgänsad textfil (txt-fil)i avsnittet Läs in filen ovan. Nu skall vi testa på några andra filtyper."
  },
  {
    "objectID": "tutorials/read-data/index.html#vilket-sätt-skall-en-fil-läsas-in-på",
    "href": "tutorials/read-data/index.html#vilket-sätt-skall-en-fil-läsas-in-på",
    "title": "Läsa in data i R",
    "section": "Vilket sätt skall en fil läsas in på?",
    "text": "Vilket sätt skall en fil läsas in på?\nDet finns många sätt att läsa in en fil, det beror dels på om du använder R eller R Studio, men också på om du vill dokumentera vad filen heter och var den är placerad (rekommenderas för reproducerbarhet). Slutligen kan valet bero på om du använder R-projekt eller inte.\nNedan kommer vi gå igen följande metoder:\n\n\n\nMetod\nBeskrivning\n\n\n\n\nRelativ sökväg till filen\nDu anger först vilken mapp din fil ligger i (din Working Directory) och sedan vad filen heter\n\n\nAbsolut sökväg till filen\nDu anger exakt var filen ligger på din hårddisk och vad den heter\n\n\n\nVilken metod man använder är en smaksak, båda metoderna är vanliga och man bör känna till båda."
  },
  {
    "objectID": "tutorials/read-data/index.html#exempel-läsa-in-en-txt-i-r",
    "href": "tutorials/read-data/index.html#exempel-läsa-in-en-txt-i-r",
    "title": "Läsa in data i R",
    "section": "Exempel: Läsa in en txt i R",
    "text": "Exempel: Läsa in en txt i R\nI följande exempel läser vi in en tab-avgränsad datafil med filändelsen txt i R.\nMetoden bygger på att vi vill ha den absoluta sökvägen till våran datafil (dvs var på hårddisken den ligger), det är en bra metod att använda sig av för att alltid veta vilken fil, man arbetar med.\nFördel\n\nGer en absolut sökväg (du hittar alltid vilken fil du arbetar med)\n\nNackdel\n\nAtt få reda på den absoluta sökvägen kan vara lite omständigt (men behöver bara göras en gång per dataset)\n\n\nTa reda på den absoluta sökvägen till din fil med data\nAlla filer ligger någonstans på din hårddisk."
  },
  {
    "objectID": "tutorials/read-data/index.html#exempel-läsa-in-en-txt-i-r-med-absolut-sökväg",
    "href": "tutorials/read-data/index.html#exempel-läsa-in-en-txt-i-r-med-absolut-sökväg",
    "title": "Läsa in data i R",
    "section": "Exempel: Läsa in en txt i R med absolut sökväg",
    "text": "Exempel: Läsa in en txt i R med absolut sökväg\nI följande exempel läser vi in en tab-avgränsad datafil med filändelsen txt i R.\nMetoden bygger på att vi vill ha den absoluta sökvägen till vår datafil (dvs var på hårddisken den ligger), det är en bra metod att använda sig av för att alltid veta vilken fil man arbetar med.\nFördel\n\nGer en absolut sökväg (du hittar alltid vilken fil du arbetar med)\n\nNackdel\n\nAtt få reda på den absoluta sökvägen kan vara lite omständigt (men behöver bara göras en gång per dataset)\n\n\nTa reda på den absoluta sökvägen till din fil med data\nLadda ner följande fil testdata.txt (högerklicka, välj “spara länk som”) och spara filen på din hårddisk.\nNästa steg är att tala om för R var på din hårddisk du har sparat filen (den absoluta sökvägen till filen).\nDet enklaste sättet att få reda på den absoluta sökvägen är att öpna din filhanterare (finder, utforskaren eller liknande) och leta upp filen. Sedan drar du filen och släpper den i R-konsolen. Då kommer du få se dess sökväg, vilket visas i blått på en Mac (samt ev felmeddelanden eftersom du gör något som R inte förstår, men R ger dig sökvägen, vilket är vad vi vill ha).\n\n\n\n\n\nSökvägen till filen på min dator är: ~/git_projects/Introduktion-till-R/tutorials/read-data/data/testdata.txt\nR Studio - om du använder R studio fungerar det inte att dra filen till konsolen. Istället kan du öppna din terminal (Terminal, iTerm, EMAC, MobaXterm etc) och släppa filen där. Eller gör det i vanliga R. Då får du en sökväg.\n\n\n\nSökväg till filen om man släpper den i en terminal (iTerm i exemplet)\n\n\n\n\nLäs in filen i R\nVi kommer att läsa in filen med funktionen read.table().\n\n\nCode\ntestdata &lt;- read.table(\"data/testdata.txt\",\n                     header=T,\n                     sep=\"\\t\",\n                     dec=\",\") \n\n\n&lt;- betyder att vi sparar resultatet av funktionen (just nu read.table()) i ett objekt. Eftersom det är vårt data är objektet en dataframe. Pilen &lt;- pekar på objektet, och vi ger det ett passande namn, i det här fallet testdata.\nread.table() är funktionen för att läsa in textfiler med filändelsen .txt\n\"data/testdata.txt\" är sökvägen till datafilen, dvs där den är sparad på din hårddisk (data/), och namnet på filen (testdata.txt).\nheader=T betyder att den första raden i datafilen är en rubrikrad och inte består av data. Det är nästan alltid fallet om du läser in en datafil till R. Om även första raden består av data (dvs det finns inga rubriker) ersätter du T med F (T står för TRUE, F står för FALSE).\nsep=T betyder att alla värden/celler är separerade med TAB (det är en tab-separerad textfil).\ndec=\",\" betyder att kommatecken används som decimalseparator (ex 1,32). Om filen istället använder punkt som decimalseparator (ex 1.32), anger du istället dec=\".\""
  },
  {
    "objectID": "tutorials/read-data/index.html#inspektera-ditt-data",
    "href": "tutorials/read-data/index.html#inspektera-ditt-data",
    "title": "Läsa in data i R",
    "section": "Inspektera ditt data",
    "text": "Inspektera ditt data\nNästa steg är att insprektera ditt dataset, för att se om allt gått rätt till vid inläsningen.\nBörja med att inspektera datasetets struktur med str().\n\n\nCode\nstr(testdata)\n\n\n'data.frame':   10 obs. of  3 variables:\n $ Colour: chr  \"Green\" \"Green\" \"Green\" \"Green\" ...\n $ Weight: int  4 3 5 4 5 12 14 15 11 14\n $ Length: num  1.3 1.1 3.4 2.5 7.1 14.5 16.9 13.5 9.4 11\n\n\n$ Colour: chr betyder att värderna i Colour kolumnen är bokstäver (characters)\n$ Weight: int betyder att värderna i kolumnen Weight är heltal (integers)\n$ Length: num betyder att värderna i kolumnen Length är decimaltal (numeric)\nOm du har en kolumn som borde innehålla decimaltal, skall det stå num. Om det istället står chr betyder det att datafilen har punkt som decimalavskiljare, men du utgår från att det är komma (eller tvärtom) och därmed tror R att det är text. Ändra avskiljare, ex från dec=\",\" till dec=\".\" i koden och importera datasetet på nytt.\nSedan visar du de första raderna i ditt dataset med funktionen head() och verifierar att allt ser korrekt ut.\n\n\nCode\nhead(testdata)\n\n\n  Colour Weight Length\n1  Green      4    1.3\n2  Green      3    1.1\n3  Green      5    3.4\n4  Green      4    2.5\n5  Green      5    7.1\n6   Blue     12   14.5\n\n\nOm allt ser korrekt ut så är du redo att analysera ditt data!"
  },
  {
    "objectID": "tutorials/install-R/index.html",
    "href": "tutorials/install-R/index.html",
    "title": "Installera R",
    "section": "",
    "text": "R är ett programmeringsspråk som används för statistik och visualisering av data. Det är i språket R vi skriver när vi arbetar med R.\nR är också en mjukvara (ett program) som vi använder oss av när vi gör statistik och visualiseringar i språket R."
  },
  {
    "objectID": "tutorials/install-R/index.html#r-programmet",
    "href": "tutorials/install-R/index.html#r-programmet",
    "title": "Installera R",
    "section": "R (programmet)",
    "text": "R (programmet)\nR är fritt tillgängligt utan kostnad, och finns för alla större plattformar (OSX, Windows, Unix, Linux mm).\n\n\n\n\n\nLadda ner R här"
  },
  {
    "objectID": "tutorials/install-R/index.html#rstudio",
    "href": "tutorials/install-R/index.html#rstudio",
    "title": "Installera R",
    "section": "RStudio",
    "text": "RStudio\nRStudio är ett alternativt grafiskt interface (GUI) till R. För att använda RStudio krävs att du redan har installerat programmet R.\n\n\n\n\n\nLadda ner RStudio här"
  },
  {
    "objectID": "tutorials/install-R/index.html#r-eller-rstudio",
    "href": "tutorials/install-R/index.html#r-eller-rstudio",
    "title": "Installera R",
    "section": "R eller RStudio?",
    "text": "R eller RStudio?\nSåväl R som RStudio hanterar R-kod på samma sätt (eftersom RStudio använder sig av R i bakgrunden) och det spelar ingen roll vilken man använder för att göra statistik och visualiseringar.\nRStudio utmärker sig genom ett annorlunda interface och hjälpsamma funktioner såsom tab completion, färgning av kod (ger bättre överblick) och möjligheter till avancerad organisering av dina projekt. Dessutom kan RStudio hantera fler programmeringsspråk och enkelt integreras i vanliga arbetsflöden (ex via github)."
  },
  {
    "objectID": "tutorials/R-packages/index.html",
    "href": "tutorials/R-packages/index.html",
    "title": "R-paket",
    "section": "",
    "text": "Alla grundläggande funktioner ingår redan i R och finns tillgängliga vid uppstart. En stor styrka med R är dock att det går att bygga ut med paket som ger nya funktioner. Det kan exampelvis vara avancerade statistiska analyser eller grafer. Det är den stora mängden specialiserade paket, utvecklad av aktiva forskare inom alla discipliner, som gör R till det ledande verktyget för dataanalys och statistik."
  },
  {
    "objectID": "tutorials/R-packages/index.html#vanliga-paket",
    "href": "tutorials/R-packages/index.html#vanliga-paket",
    "title": "R-paket",
    "section": "Vanliga paket",
    "text": "Vanliga paket\nNedan listas några vanliga paket inom biologisk statistik.\n\n\n\nPaket\nAnvändning\n\n\n\n\nggplot2\nGrafer och visualiseringar\n\n\nopenxlsx\nLäsa in Excel-dokument\n\n\ndplyr\nBearbeta datafiler, göra urval av data\n\n\nlme4\nMixed-effect modeller\n\n\ncar\nSignifikansberäkning i mixed-effect modeller\n\n\nvegan\nMultivariat statistik och biodiversitetsanalyser"
  },
  {
    "objectID": "tutorials/R-packages/index.html#installera-paket",
    "href": "tutorials/R-packages/index.html#installera-paket",
    "title": "R-paket",
    "section": "Installera paket",
    "text": "Installera paket\nDu installerar ett paket genom funktionen install.packages()\nSom ett exempel kan vi installera paketet ggplot2\ninstall.packages(\"ggplot2\")"
  },
  {
    "objectID": "tutorials/R-packages/index.html#använda-ett-paket",
    "href": "tutorials/R-packages/index.html#använda-ett-paket",
    "title": "R-paket",
    "section": "Använda ett paket",
    "text": "Använda ett paket\nNär du startar R är inga paket laddade i körningen, även om paketen är installerade. För att använda paketet måste du ladda in det i R, vilket du gör med funktionen library().\nVi laddar nu in det nyligen installerade paketet ggplot2 i R.\n\n\nCode\nlibrary(ggplot2)"
  },
  {
    "objectID": "tutorials/R-packages/index.html#dokumentera-vilka-paket-som-ingår-i-ett-viss-script",
    "href": "tutorials/R-packages/index.html#dokumentera-vilka-paket-som-ingår-i-ett-viss-script",
    "title": "R-paket",
    "section": "Dokumentera vilka paket som ingår i ett viss script",
    "text": "Dokumentera vilka paket som ingår i ett viss script\nOm du använder en viss funktion som utförs av ett paket, men inte har installerat och laddat paketet, kommur du få ett felmeddelande.\nHur vet du då vilket paket som skall användas? Kommer du ihåg det? Eller har du fått en scriptfil från en kollega? Det är allstå väldigt viktigt att dokumentera vilka extra paket som används i en viss analys.\n\nDokumentera i början av scriptfilen\nEtt vanligt sätt är att börja sin scriptfil med att lista alla paket som används. Då kan du (eller den som du delar din scriptfil med) se vilka paket som används.\n\n\n\n\n\nDet här är det absolut vanligaste sättet att dokumentera vilka paket man använder sig av, och det räcker troligtvis för dina behov.\nNackdelen med att enbart använda sig av det här tillvägagångssättet är att du inte vet vilken funktion som hör till vilket paket. Det är inget praktiskt problem, men ett “ordningsproblem”\n\n\nDokumentera varje gång du använder en funktion från ett paket\nI tillägg till att lista alla paketen först i scriptet är ett extra bra sätt är att tala om vilket paket en funktion tillhör. Det gör du genom att skriva ut paketets namn varje gång du använder den funktionen:\npaketnamn::funktion\nExempel om man gör en figur med ggplot2:\nggplot2::ggplot(...)\nMetoden ger en väldigt bra tydlighet och reproducerbarhet, och används när så är önskvärt."
  },
  {
    "objectID": "tutorials/read-data/index.html#använda-relativ-sökväg",
    "href": "tutorials/read-data/index.html#använda-relativ-sökväg",
    "title": "Läsa in data i R",
    "section": "Använda relativ sökväg",
    "text": "Använda relativ sökväg\nDen absoluta sökvägen till en fil är ofta lång och ibland omständig att få fram. Ett alternativ är att istället använda relativa sökvägar.\nEn relativ sökväg är sökvägen till en fil, relativt den foldern du befinner dig i just nu.\nPlatsen du befinner dig just nu är din Working Direcory, och du kan själv bestämma vad som är din Working Directory. Troligtvis har du alla filer som tillhör ett visst projekt i en mapp på din hårddisk, då hade det varit smart att ange den mappen som din Working Directory.\nDu kan se var din Working Directory är just nu genom funktionen getwd()\nTesta att undersöka var din Working Directory är\n\n\nCode\ngetwd()\n\n\n[1] \"/Users/martin/git_projects/Introduktion-till-R/tutorials/read-data\"\n\n\nDu kan därefter skriva in den absoluta sökvägen till din Working Directory genom funktionen setwd()\n\nAnvänd menyerna\nEtt alternativt sätt att ta dig fram till din Working Directory är att använda dig av menyerna.\nAnvänd menyerna för att välja mappen där du sparat filen testdata.txt som din nya Working Directory!\nI R kan du välja Working Directory genom att klicka följande i menyerna:\n\nI RStudio finns motsvarande menyval\n\nDet är dock bra att dokumentera din Working Directory i ditt script, så att du inte behöver sätta den manuellt nästa gång du skall arbeta med samma data.\nEfter att du ställt in rätt Working Directory i menyerna, gör följande:\n\nTa du reda på den absoluta sökvägen till din Working Directory med getwd()\n\n\n\nCode\ngetwd()\n\n\n[1] \"/Users/martin/git_projects/Introduktion-till-R/tutorials/read-data\"\n\n\n\nSkriv in den absoluta sökvägen i ditt script, inuti funktionen setwd()\n\n\n\nCode\nsetwd(\"/Users/martin/git_projects/Introduktion-till-R\")\n\n\nNästa gång du öppnar R och ditt script så räcker det att köra raden med setwd() där du just fyllt i din sökväg, så hamnar du direkt i din mapp!\n\n\nLäs in filen\nNu är din Working Directory samma mapp som filen testdata.txt ligger i. När du nu läser in din fil behöver du inte ange dess absoluta sökväg, det räcker att ange dess filnamn!\ntestdata &lt;- read.table(\"testdata.txt\", header=T,sep=\"\\t\", dec=\",\")\nSe Läs in filen i R för vår tidigare beskrivning av hur man tolkar de olika delarna av funktionen read.table()."
  },
  {
    "objectID": "tutorials/read-data/index.html#använd-menyerna",
    "href": "tutorials/read-data/index.html#använd-menyerna",
    "title": "Läsa in data i R",
    "section": "Använd menyerna",
    "text": "Använd menyerna\nEtt alternativt sätt att ta dig fram till din Working Directory är att använda dig av menyerna.\nI R kan du välja Working Directory genom att klicka följande i menyerna:\n\nI RStudio finns motsvarande menyval\n\nDet är dock bra att dokumentera din Working Directory i ditt script, så att du inte behöver sätta den manuellt nästa gång du skall arbeta med samma data.\nEfter att du ställt in rätt Working Directory i menyerna, gör följande:\n\nTa du reda på den absoluta sökvägen till din Working Directory med getwd()\n\n\n\nCode\ngetwd()\n\n\n[1] \"/Users/martin/git_projects/Introduktion-till-R/tutorials/read-data\"\n\n\n\nSkriv in den absoluta sökvägen i ditt script, inuti funktionen setwd()\n\n\n\nCode\nsetwd(\"/Users/martin/git_projects/Introduktion-till-R\")\n\n\nNästa gång du öppnar R och ditt script så räcker det att köra raden med setwd() där du just fyllt i din sökväg, så hamnar du direkt i din mapp!"
  },
  {
    "objectID": "tutorials/read-data/index.html#absolut-sökväg-till-filen",
    "href": "tutorials/read-data/index.html#absolut-sökväg-till-filen",
    "title": "Läsa in data i R",
    "section": "Absolut sökväg till filen",
    "text": "Absolut sökväg till filen\nEtt alternativ är att ange den absoluta sökvägen till filen, dvs exakt var den ligger på din hårddisk, det är en bra metod att använda sig av för att alltid veta vilken fil man arbetar med och är fördelaktig om man arbetar med filer som är spridda i olika mappar på din dator. Det är oklokt att ändra Working Directory under en pågående analys, och det är också oklokt att ha mer än en kopia av samma fil på din hårddisk. För att undvika det kan man använda absoluta sökvägar.\nFördel\n\nGer en absolut sökväg (du hittar alltid vilken fil du arbetar med)\n\nNackdel\n\nOm du arbetar med många olika filer som alla ligger i samma mapp kan det vara smidigast med relativ sökväg\n\n\nTa reda på den absoluta sökvägen till din fil med data\nLadda ner filen testdata.txt (högerklicka, välj “spara länk som”) och spara filen på din hårddisk i en annan mapp än där du sparade filen i förra exemplet.\nNästa steg är att tala om för R var på din hårddisk du har sparat filen (den absoluta sökvägen till filen).\n\n\nSökväg via file.choose()\nDet enklaste sättet är att använda funktionen file.choose(). Skriv in den funktionen utan att fylla i något inom paranteserna. Du kommer då att få upp en dialogruta där du letar upp din fil och väljer den. R kommer då ge dig den absoluta sökvägen till filen, i mitt fall blev det:\n[“data/testdata.txt”]\nMarkera och kopiera sökvägen, den använder vi när vi läser in filen i R\n\n\nLäs in filen i R\nVi kommer åter att läsa in filen med funktionen read.table() och vi kallar vårt inlästa dataset testdata_absolut.\n\n\nCode\ntestdata_absolut <- read.table(\"data/testdata.txt\",\n                     header=T,\n                     sep=\"\\t\",\n                     dec=\",\") \n\n\nNotera att vi nu har en längre sökväg till filen.\n\"data/testdata.txt\" är sökvägen till datafilen, dvs där den är sparad på din hårddisk (data/), och namnet på filen (testdata.txt). Du ersätter den här texten med sökvägen till din fil som du kopierade i steget ovan.\nSe Läs in filen i R för vår tidigare beskrivning av hur man tolkar de olika delarna av funktionen read.table(). Efter att du läst in filen skall du alltid Inspektera ditt data innan du börjar med dina analyser.\n\n\nCode\nstr(testdata_absolut)\n\n\n'data.frame':   10 obs. of  3 variables:\n $ Colour: chr  \"Green\" \"Green\" \"Green\" \"Green\" ...\n $ Weight: int  4 3 5 4 5 12 14 15 11 14\n $ Length: num  1.3 1.1 3.4 2.5 7.1 14.5 16.9 13.5 9.4 11\n\n\nCode\nhead(testdata_absolut)\n\n\n  Colour Weight Length\n1  Green      4    1.3\n2  Green      3    1.1\n3  Green      5    3.4\n4  Green      4    2.5\n5  Green      5    7.1\n6   Blue     12   14.5\n\n\n\n\nSökväg via din filhanterare + terminal\nOm du redan har filen framme i din filhanterare (finder, utforskaren eller liknande) så är ett alternativt sätt att få reda på den absoluta sökvägen är att du drar filen och släpper den i R-konsolen. Då kommer du få se dess sökväg, vilket visas i blått på en Mac (samt ev felmeddelanden eftersom du gör något som R inte förstår, men R ger dig sökvägen, vilket är vad vi vill ha).\n\n\n\n\n\nSökvägen till filen på min dator är: ~/git_projects/Introduktion-till-R/tutorials/read-data/data/testdata.txt\nR Studio - om du använder R studio fungerar det inte att dra filen till konsolen. Istället kan du öppna din terminal (Terminal, iTerm, EMAC, MobaXterm etc) och släppa filen där. Eller gör det i vanliga R. Då får du en sökväg.\n\n\n\nSökväg till filen om man släpper den i en terminal (iTerm i exemplet)"
  },
  {
    "objectID": "tutorials/read-data/index.html#relativ-sökväg-till-filen",
    "href": "tutorials/read-data/index.html#relativ-sökväg-till-filen",
    "title": "Läsa in data i R",
    "section": "Relativ sökväg till filen",
    "text": "Relativ sökväg till filen\nMed relativ sökväg menas att du först anger vilken mapp filen ligger i, och sedan vad filen heter.\nLadda ner följande fil testdata_v2.txt (högerklicka, välj “spara länk som”) och spara filen på din hårddisk i en mapp med ett lämpligt namn.\nNästa steg är att tala om för R var på din hårddisk du har sparat filen, dvs vad som är sökvägen till mappen som filen ligger i. Sedan kan du tala om för R vilken fil i mappen du skall läsa in.\n\nVar är jag?\nPlatsen du befinner dig just nu är din Working Direcory, och du kan själv bestämma vad som är din Working Directory. Troligtvis har du alla filer som tillhör ett visst projekt i en mapp på din hårddisk, då hade det varit smart att ange den mappen som din Working Directory.\nDu kan se var din Working Directory är just nu genom funktionen getwd()\nTesta att undersöka var din Working Directory är\n\n\nCode\ngetwd()\n\n\n[1] \"/Users/martin.lind/git_projects/Introduktion-till-R/tutorials/read-data\"\n\n\n\n\nÄndra din Working Directory\nEtt enkelt sätt att ändra din Working Directory är att använda dig av menyerna.\nAnvänd menyerna för att välja mappen där du sparat filen testdata_v2.txt som din nya Working Directory!\nI R kan du välja Working Directory genom att klicka följande i menyerna:\n\nI RStudio finns motsvarande menyval\n\nNu har du ställt in din Working Directory så att det är den mappen som filerna du vill arbeta med ligger i!\nDet är dock bra att dokumentera din Working Directory i ditt script, så att du inte behöver sätta den manuellt i menyerna nästa gång du skall arbeta med samma data. Det gör också att du minns var filerna ligger.\nEfter att du ställt in rätt Working Directory i menyerna, gör följande:\n\nTa du reda på den absoluta sökvägen till din Working Directory med getwd()\n\n\n\nCode\ngetwd()\n\n\n[1] \"/Users/martin.lind/git_projects/Introduktion-till-R/tutorials/read-data\"\n\n\n\nSkriv in den absoluta sökvägen i ditt script, inuti funktionen setwd()\n\nsetwd(\"/Users/martin/git_projects/Introduktion-till-R\")\nNästa gång du öppnar R och ditt script så räcker det att köra raden med setwd() där du just fyllt i din sökväg till din Working Directory, så hamnar du direkt i din mapp och kan läsa in dina filer!\n\n\nLäs in filen\nNu är din Working Directory samma mapp som filen testdata.txt ligger i.\nVi kommer att läsa in filen med funktionen read.table().\n\n\nCode\ntestdata <- read.table(\"testdata_v2.txt\",\n                     header=T,\n                     sep=\"\\t\",\n                     dec=\",\") \n\n\n<- betyder att vi sparar resultatet av funktionen (just nu read.table()) i ett objekt. Eftersom det är vårt data är objektet en dataframe. Pilen <- pekar på objektet, och vi ger det ett passande namn, i det här fallet testdata.\nread.table() är funktionen för att läsa in textfiler med filändelsen .txt\n\"testdata_v2.txt\" är sökvägen till datafilen, och eftersom den ligger direkt i din Working Directiory behöver vi bara skriva ut namnet på filen (testdata_v2.txt).\nheader=T betyder att den första raden i datafilen är en rubrikrad och inte består av data. Det är nästan alltid fallet om du läser in en datafil till R. Om även första raden består av data (dvs det finns inga rubriker) ersätter du T med F (T står för TRUE, F står för FALSE).\nsep=T betyder att alla värden/celler är separerade med TAB (det är en tab-separerad textfil).\ndec=\",\" betyder att kommatecken används som decimalseparator (ex 1,32). Om filen istället använder punkt som decimalseparator (ex 1.32), anger du istället dec=\".\""
  },
  {
    "objectID": "tutorials/read-data/index.html#läsa-in-csv-fil",
    "href": "tutorials/read-data/index.html#läsa-in-csv-fil",
    "title": "Läsa in data i R",
    "section": "Läsa in csv-fil",
    "text": "Läsa in csv-fil\nEn csv-fil är en fil där värderna är avgränsade av komma eller semikolon. Det är en mycket vanlig filtyp att långtidslagra data i.\nLadda ner filen testdata_csv.csv och spara den någonstans på din hårddisk.\nEfter det letar du upp filen, antingen genom att använda Relativ sökväg till filen eller Absolut sökväg till filen. Om du sparat den i samma mapp som du har din Working Directory är det enkelt att använda en relativ sökväg.\n\nLäs in filen\nVi kommer åter att läsa in filen med funktionen read.csv(). Fyll i korrekt sökväg till din fil\n\n\nCode\ntestdata_csv <- read.csv(\"data/testdata_csv.csv\",\n                     header=T,\n                     sep=\";\",\n                     dec=\",\") \n\n\nVi sparar resultatet från funktionen read.csv(), vilket är ett dataset, med namnet testdata_csv. Man skall alltid använda olika namn för olika dataset.\nsep=\";\" betyder att värderna i filen är separerade av semikolon. I övrigt påminner funktionen om read.table() som beskrivits i detalj ovan (Läs in filen). Efter att du läst in filen skall du alltid Inspektera ditt data innan du börjar med dina analyser.\n\n\nCode\nstr(testdata_csv)\n\n\n'data.frame':   10 obs. of  3 variables:\n $ Colour: chr  \"Red\" \"Red\" \"Red\" \"Red\" ...\n $ Weight: int  7 4 3 4 5 12 14 15 11 14\n $ Length: num  2.3 4.1 3.4 2.5 7.1 14.5 16.9 13.5 9.4 11\n\n\nCode\nhead(testdata_csv)\n\n\n  Colour Weight Length\n1    Red      7    2.3\n2    Red      4    4.1\n3    Red      3    3.4\n4    Red      4    2.5\n5    Red      5    7.1\n6  White     12   14.5"
  },
  {
    "objectID": "tutorials/read-data/index.html#läsa-in-excelfil",
    "href": "tutorials/read-data/index.html#läsa-in-excelfil",
    "title": "Läsa in data i R",
    "section": "Läsa in Excelfil",
    "text": "Läsa in Excelfil\nDe flesta som samlar in biologiska data skriver in sina värden i Excel, och exporterar sedan sina data som en txt eller csv fil. Det kan därför vara lockande att direkt läsa in sina excelblad i R, utan att gå omvägen via export till ett annat format.\nFördelar med att direkt läsa in excelfiler\n\nDu har bara en enda fil med data, det är ingen risk att du lägger in nya data i Excel men glömmer att exportera det som txt eller csv-fil\n\nNackdelar med att direkt läsa in excelfiler\n\nExcel har ett propriärt format, det är inte säkert att dina filer kan läsas i framtiden, därmed bättre att spara dina data i ett öppet format som txt eller csv\nDet är bra att separera sina excelfiler (där pågående datainsamling skrivs in) från ditt färdiga data (din txt eller csv-fil) som inte skall manipuleras\nExcelbladet du läser in måste vara helt rent, dvs du får inte ha några celler med annan information än data (exempelvis inga grafer, blanka kolumner eller liknande).\n\nLadda ner filen testdata_excel.xlsx och spara den någonstans på din hårddisk.\nEfter det letar du upp filen, antingen genom att använda Relativ sökväg till filen eller Absolut sökväg till filen. Om du sparat den i samma mapp som du har din Working Directory är det enkelt att använda en relativ sökväg.\n\nLäsa in Excelfilen\nFör att kunna läsa in en Excelfil behöver vi installera paketet openxlsx. Se den tidigare informationen i kapitlet om att installera paket för en fullständig genomgång om hur man hanterar paket.\nDu installerar paketet med koden install.packages(\"openxlsx\")\nNär paketet är installerat behöver vi läsa in det i vår pågående session i R\n\n\nCode\nlibrary(openxlsx)\n\n\nNu är paketet inläst och vi kan använda oss av funktionen read.xlsx() för att läsa in vår Excelfil.\n\n\nCode\ntestdata_excel <- read.xlsx(\"data/testdata_excel.xlsx\",\n                     sheet=1) \n\n\nsheet=1 betyder att du läser in det första bladet i Exceldokumentet.\nEfter att du läst in filen skall du alltid Inspektera ditt data innan du börjar med dina analyser.\n\n\nCode\nstr(testdata_excel)\n\n\n'data.frame':   10 obs. of  3 variables:\n $ Colour: chr  \"Purple\" \"Purple\" \"Purple\" \"Purple\" ...\n $ Mass  : num  2 5 3 5 5 12 14 15 11 14\n $ Width : num  12.3 14.1 12.4 12.5 17.1 20.5 26.9 23.5 19.4 21\n\n\nCode\nhead(testdata_excel)\n\n\n  Colour Mass Width\n1 Purple    2  12.3\n2 Purple    5  14.1\n3 Purple    3  12.4\n4 Purple    5  12.5\n5 Purple    5  17.1\n6 Yellow   12  20.5"
  },
  {
    "objectID": "tutorials/t-test/index.html",
    "href": "tutorials/t-test/index.html",
    "title": "t-test",
    "section": "",
    "text": "Ett t-test (kallas även Student´s t-test) används när man är intresserad om huruvida två grupper av en faktor skiljer sig åt i medelvärde. Om man har fler än två grupper, eller har flera faktorer, använder man sig istället av Anova, vilket vi kommer använda oss av senare under kursen.\nEtt t-test förutsätter följande"
  },
  {
    "objectID": "tutorials/t-test/index.html#läs-in-data",
    "href": "tutorials/t-test/index.html#läs-in-data",
    "title": "t-test",
    "section": "Läs in data",
    "text": "Läs in data\nVi vill undersöka om växtbiomassan i ett antal odlingskrukor skiljer sig beroende på om de fått hög eller låg näring.\nLadda ner följande fil experiment_nutrients.txt (högerklicka, välj “spara länk som”) och spara filen på din hårddisk i en mapp med ett lämpligt namn.\nFortsätt med att läsa in datasetet och ge det ett namn, i det här fallet kallar vi det nutrientdata. En detalerad beskrivning i hur man läser in filer finns i vår tidigare tutorial Läsa in data i R.\n\n\nCode\nnutrientdata <- read.table(\"data/experiment_nutrients.txt\",\n                           header=T,\n                           sep=\"\\t\",\n                           dec=\",\") \n\n\n<- betyder att vi sparar resultatet av funktionen (i det här fallet read.table() i ett objekt. Pilen pekar på objektet, och vi ger objektet ett namn, i det här fallet nutrientdata.\nread.table är kommandot för att läsa in textfiler med ändelsen .txt\n\"data/experiment_nutrients.txt\" är sökvägen till platsen där datafilen är sparad på din dator(data/), samt namnet på filen (experiment_nutrients.txt).\nheader=Tbetyder att första raden i filen är kolumnernas rubriker, dvs inte värden.\nsep=T betyder att alla värden är separerade med TAB.\ndec=\",\" betyder att komma används som decimalavgränsare (ex. 1,32)."
  },
  {
    "objectID": "tutorials/t-test/index.html#inspektera-data",
    "href": "tutorials/t-test/index.html#inspektera-data",
    "title": "t-test",
    "section": "Inspektera data",
    "text": "Inspektera data\nBörja med att titta på datans struktur med str().\n\n\nCode\nstr(nutrientdata)\n\n\n'data.frame':   20 obs. of  2 variables:\n $ Nutrient_level: chr  \"High\" \"High\" \"High\" \"High\" ...\n $ Mass          : num  15.5 11.7 15.9 13.7 13.2 ...\n\n\n$ Nutrient_level: chr betyder att värderna i kolumnen Nutrient_level är karaktärer dvs text och inte siffror.\n$ Mass: num betyder att värderna i kolumnen Mass är decimaltal\nOm du har en kolumn som innehåller decimaltal skall det stå num. Om det istället står chr betyder det att datat har punkt som decimalavgränsare, medan du läste in det med komma som avgränsare (eller tvärtom) och R tror att det är text. Justera koden och läs in datat på nytt (se vår tidigare tutorial Läsa in data i R för justerad kod).\nVisa sedan de fem första raderna av ditt dataset med head() för att se att allt ser korrekt ut\n\n\nCode\nhead(nutrientdata)\n\n\n  Nutrient_level     Mass\n1           High 15.45038\n2           High 11.65872\n3           High 15.92761\n4           High 13.74627\n5           High 13.20712\n6           High 14.79113"
  },
  {
    "objectID": "tutorials/t-test/index.html#visualisera-datat-med-en-enkel-graf",
    "href": "tutorials/t-test/index.html#visualisera-datat-med-en-enkel-graf",
    "title": "t-test",
    "section": "Visualisera datat med en enkel graf",
    "text": "Visualisera datat med en enkel graf\nVi gör en enkel graf med boxplot()\n\n\nCode\nboxplot(Mass~Nutrient_level, \n        data = nutrientdata)\n\n\n\n\n\nDen grå boxen innehåller de mittersta 50% av värderna i gruppen, och den horisontella linjen i mitten visar medianvärdet. Felstaplarna visar området som de 25% lägsta och 25% högsta värderna ligger i.\nObservera: en boxplot är INTE ett statistiskt test, och det motsvarar inte medelvärden och varians/standard error. Använd det enbart för snabb inspektion av data, inte för publicering. Vi går igenom hur man gör en publiceringsduglig graf i den avslutande delen av vår tutorial, under Publiceringsduglig figur\nHur tolkar du grafen? Ser det ut som att växtbiomassan skiljer sig åt beroende på näring?"
  },
  {
    "objectID": "tutorials/t-test/index.html#statistisk-modellering",
    "href": "tutorials/t-test/index.html#statistisk-modellering",
    "title": "t-test",
    "section": "Statistisk modellering",
    "text": "Statistisk modellering\nVi vill nu göra ett t-test för att undersöka om vår responsvariabel (beroende variabel) Mass beror av vår förklarande variabel (oberoende variabel) Nutrient_level, med andra ord om biomassan beror av näringstillgången.\nVi specificerar en modell med hjälp av funktionen t.test() och väljer att spara resultatet i ett objekt som vi kallar m.garden. Jag föredrar att alla mina modeller (resultat av statistka test) har ett namn som börjar med m. för att jag skall veta vad som är dataset och vad som är modeller. Ge alltid dina modeller beskrivande namn.\n\n\nCode\nm.nutrients<-t.test(Mass~Nutrient_level,\n                    data=nutrientdata)\n\n\nI vår modell har vi vår responsvariabel (det vi har på y-axeln) till vänster om tilde-tecknet ~ och vår förklarande variabel till höger. data=nutrientdata betyder att vi använder oss av datasetet vi tidigare döpt till nutrientdata.\n\nStatistiska resultat\nVi tittar på resultatet genom att skriva in modellens namn och köra den\n\n\nCode\nm.nutrients\n\n\n\n    Welch Two Sample t-test\n\ndata:  Mass by Nutrient_level\nt = 3.7581, df = 16.853, p-value = 0.001588\nalternative hypothesis: true difference in means between group High and group Low is not equal to 0\n95 percent confidence interval:\n 1.681385 5.992311\nsample estimates:\nmean in group High  mean in group Low \n          14.53003           10.69318 \n\n\nVi kan nu inspektera resultatet. Vi får teststatistika (t-värde) samt frihetsgrader (df) och ett p-värde.\nEftersom vårt p-värde är mindre än 0.05 säger vi att biomassan skiljer sig signifikant mellan de två näringsbehandlingarna Vi ser att medelvärdet i grupp High är högre än i grupp Low. Stämmer det om du tittar på din boxplot?"
  },
  {
    "objectID": "tutorials/t-test/index.html#presentera-din-statistiska-analys",
    "href": "tutorials/t-test/index.html#presentera-din-statistiska-analys",
    "title": "t-test",
    "section": "Presentera din statistiska analys",
    "text": "Presentera din statistiska analys\nVäxtbiomassan är större i hög näring än i låg näring (t-test, t = 3.758, d.f. = 16.9, p = 0.002)."
  },
  {
    "objectID": "tutorials/t-test/index.html#utvärdera-den-statistiska-modellen",
    "href": "tutorials/t-test/index.html#utvärdera-den-statistiska-modellen",
    "title": "t-test",
    "section": "Utvärdera den statistiska modellen",
    "text": "Utvärdera den statistiska modellen\nVar modellen lämplig att använda för ditt dataset?\nVi utvärderar modellen genom diagnostiska grafer\n\n\nCode\nqqnorm (nutrientdata$Mass)\n\n\n\n\n\nNormal Q-Q visar om residualerna är normalfördelade. De bör följa en tänkt diagonal linje från nedre vänster hörn till övre höger hörn. Om de avviker på ett systematiskt sätt är residualerna inte perfekt normalfördelade, och vi kan behöva förändra modellen, exempelvis genom att transformera data eller använda ett annat typ av test."
  },
  {
    "objectID": "tutorials/use-R/index.html",
    "href": "tutorials/use-R/index.html",
    "title": "Använda R, en introduktion",
    "section": "",
    "text": "Vi skall nu öppna R (eller RStudio), bekanta oss med hur man skriver in och kör kod, och hur man använder script."
  },
  {
    "objectID": "tutorials/use-R/index.html#utseende-r-programmet",
    "href": "tutorials/use-R/index.html#utseende-r-programmet",
    "title": "Använda R, en introduktion",
    "section": "Utseende R (programmet)",
    "text": "Utseende R (programmet)\nUtseendet på R ser olika ut beroende på operativsystem, vid uppstart ser man endast en konsol, och man öppnar ett nytt fönster när man öppnar en skriptfil. Figurer hamnar i ytterligare ett fönster."
  },
  {
    "objectID": "tutorials/use-R/index.html#utseende-rstudio",
    "href": "tutorials/use-R/index.html#utseende-rstudio",
    "title": "Använda R, en introduktion",
    "section": "Utseende RStudio",
    "text": "Utseende RStudio\nRStudio är ett alternativt grafiskt interface (GUI) till R. Dess utseende är detsamma oberoende av operativsystem, och dess interface är uppdelat så att olika fönster (script, konsol, grafer osv) alltid ligger på samma plats. Rutan för scripts syns endast om du har öppnat en scriptfil."
  },
  {
    "objectID": "tutorials/use-R/index.html#skriv-din-första-kod",
    "href": "tutorials/use-R/index.html#skriv-din-första-kod",
    "title": "Använda R, en introduktion",
    "section": "Skriv din första kod",
    "text": "Skriv din första kod\nVi skall nu börja interagera med R, och vi gör det till en början interaktivt, det vill säga vi skriver kommandon direkt i konsolen.\nKlicka i konsolen, så att din markör hamnar på den nedersta raden, efter > - tecknet. Skriv 1+1 och tryck på Enter. När du trycker på Enter så kör du koden, dvs det du skrivit på raden läses av R, och R genomför ditt kommando. I det här fallet ber du R att addera 1 med 1, och R ger dig svaret på nästa rad, dvs 2.\nR är en excellent miniräknare, och eftersom du ser din formel kan du lätt dubbelkolla att du gjorde rätt. Mycket bättre än att använda mobiltelefonens kalkylator.\nR kan även med enkelhet hantera potenstal. Testa att skriva följande:\n\n\nCode\n10^2\n\n\n[1] 100\n\n\n\n\nCode\n1.24e-3\n\n\n[1] 0.00124\n\n\nAtt ta kvadratroten ur ett tal är inga problem:\n\n\nCode\nsqrt(8)\n\n\n[1] 2.828427\n\n\nR känner också till matematiska konstanter, som till exempel pi\n\n\nCode\npi\n\n\n[1] 3.141593\n\n\n\nObjekt i R\nR kan spara information i något som kallas objekt. Ett objekt kan innehålla olika typer av information, det kan vara ett tal, en nummerserie, ett namn, ett dataset, resultatet av en statistisk analys, en funktion eller mycket annat. Vi väljer ofta att spara olika resultat som objekt för att kunna återanvända dem, men också för att göra vår kod tydligare.\nVi skall nu göra en övning i att använda objekt. Övningen är väldigt enkel och skulle enkelt kunna genomföras utan att gå vägen via objekt, men den illustrerar väl tankesättet och logiken med objekt.\nLåt oss beräkna hur stor del av EUs länder du har besökt. Fundera på hur många det är. Vi skapar sedan ett objekt som vi kallar visited_countries och det objektet skall innehålla ett tal som motsvarar det antal länder du besökt.\n\n\nCode\nvisited_countries <- 12\n\n\nLåt oss titta på formeln. visited_countries är namnet på vårt objekt. Det skall fyllas med innehåll. Du vill fylla det med det antalet EU-länder du besökt. Då skriver du <- vilket är en pil som pekar på objektet. Efter pilen skriver du det antalet länder du besökt, exemelvis 12. Pilen går från talet 12 till vårt objekt, dvs du sparar talet 12 i vårt objekt.\nVill du se vad ett objekt innehåller skriver du objektets namn och trycker på Enter.\n\n\nCode\nvisited_countries\n\n\n[1] 12\n\n\nFör att beräkna andelen av EUs länder du besökt måste vi göra ett objekt som vi kallar total_countries och som innehåller antalet länder som är medlemmar i EU\n\n\nCode\ntotal_countries <- 27\n\n\nNu kan vi beräkna andelen av EUS länder som du besökt, genom att dividera objektet visited_countries med total_countries\n\n\nCode\nvisited_countries / total_countries\n\n\n[1] 0.4444444\n\n\nDu kanske hellre vill ha det i procent? Modifiera formeln!\n\n\nCode\nvisited_countries / total_countries * 100\n\n\n[1] 44.44444\n\n\nDu kanske skall använda det här resultatet i framtida beräkningar och vill ha det sparat som ett objekt. Modifiera den senaste formeln så att du sparar resultatet som ett objekt du kallar percent_EUcountries_visited\n\n\nCode\npercent_EUcountries_visited <- visited_countries / total_countries * 100\n\n\nUndersök vad objektet percent_EUcountries_visited innehåller genom att skriva dess namn och tryck på Enter\n\n\nCode\npercent_EUcountries_visited\n\n\n[1] 44.44444\n\n\n\n\nFunktioner i R\nTycker du att R visar onödigt många decimaler? Om du använder funktionen round() kan du bestämma hur många decimaler R skall visa. Lås oss uttrycka procentsatsen i objektet percent_EUcountries_visited med en decimal\n\n\nCode\nround(percent_EUcountries_visited, digits = 1)\n\n\n[1] 44.4\n\n\nEn funktion är en operation som är inbyggd i R. Funktionen har ett namn (i det här fallet round) och följs alltid av en parentes. I parentesen anger du objektet R skall göra något med, samt eventuella andra parametrar som måste anges. Om du använder dig av round() måste du ange hur många decimaler R skall avrunda till , digits = 1\nOm du inte vet hur en funktion fungerar kan du alltid nå R’s hjälpfiler genom att skriva ett frågetecken följt av funktionens namn, och trycka Enter. Testa!\n?round\nNär vi gör statistik så använder vi hela tiden R´s olika funktioner för att läsa in data, göra grafer, göra statistiska test och ge oss resultaten av testen. Det är alla inbyggda statistiska funktioner som gör R till ett ledande språk för statistiska beräkningar."
  },
  {
    "objectID": "tutorials/use-R/index.html#använda-scriptfiler",
    "href": "tutorials/use-R/index.html#använda-scriptfiler",
    "title": "Använda R, en introduktion",
    "section": "Använda scriptfiler",
    "text": "Använda scriptfiler\nHittils har du interagerat med R interaktivt, det vill säga vi har bett R att göra något, R har gjort det, vi har bett R att göra något nytt, R har gjort det också osv. Det påminner om ett samtal med en annan person.\nNackdelen med att arbeta interaktivt är samma som nackdelen med ett muntligt samtal. Dels är det svårt att minnas vad som sades när vi tänker tillbaka på det senare, och dessutom är det svårt att göra komplicerade uppgifter om man inte börjar skriva ned vad man gör.\nHur gör vi för att minnas vårt samtal med R, vad vi har gjort och vad vi har kommit fram till? Vi använder oss av scriptfiler!\n\nVad är en scriptfil?\nEn scriptfil är ett dokument med ändelsen *.R där du dokumenterar de kommandon du ger till R i en logisk ordning. Du kan dessutom lägga till kommentarer till ditt script där du förklarar vad du gjort (det kallas att annotera scriptet).\nEftersom R alltid ger samma svar på dina kommandon (såvida du inte ber R att göra något som involveras slumptal) så räcker det att du dokumenterar de kommandon du ger till R. Sedan kan du köra dina kommandon på nytt, och får då reda på svaret på nytt.\n\n\nFördelar med scriptfiler\n\nDu dokumenterar vad du gör, och kan återupprepa din analys i framtiden\nOm du skall göra en ny analys i ett nytt dataset, men med metoder du tidigare använt och dokumenterat i ett script, så kan du kopiera ditt befintliga script och enbart förändra det som behövs för ditt nya data. Du behöver inte börja om från början. Dina gamla script är därmed en guldgruva när du skall analysera nya data.\nDu kan enklare felsöka kod och utveckla analyser som sker i flera steg\nDu kan enkelt gå tillbaka och förändra något steg i en analys\n\nFör att summera: det finns inga nackdelar med att använda sig av scriptfiler istället för att köra R interaktivt. Enbart fördelar. De enda gångerna jag själv använder R interaktivt är när jag använder R som en miniräknare för vardagsproblem."
  },
  {
    "objectID": "tutorials/linear-regression/index.html#läs-in-data",
    "href": "tutorials/linear-regression/index.html#läs-in-data",
    "title": "Linjär regression",
    "section": "Läs in data",
    "text": "Läs in data\nVi vill undersöka reproduktionen hos en växt. Därför har vi mätt höjden på 20 plantor och vi har även räknat hur många frön varje planta har. Nu vill vi ta reda på om antalet frön beror på plantornas höjd.\nLadda ner följande fil plant_reproduction.txt (högerklicka, välj “spara länk som”) och spara filen på din hårddisk i en mapp med ett lämpligt namn.\nFortsätt med att läsa in datasetet och ge det ett namn, i det här fallet kallar vi det plant_reproduction_data. En detalerad beskrivning i hur man läser in filer finns i vår tidigare tutorial Läsa in data i R.\n\n\nCode\nplant_reproduction_data <- read.table(\"data/plant_reproduction.txt\",\n                           header=T,\n                           sep=\"\\t\",\n                           dec=\",\") \n\n\n<- betyder att vi sparar resultatet av funktionen (i det här fallet read.table() i ett objekt. Pilen pekar på objektet, och vi ger objektet ett namn, i det här fallet plant_reproduction_data.\nread.table är kommandot för att läsa in textfiler med ändelsen .txt\n\"data/plant_reproduction.txt\" är sökvägen till platsen där datafilen är sparad på din dator(data/), samt namnet på filen (plant_reproduction.txt).\nheader=Tbetyder att första raden i filen är kolumnernas rubriker, dvs inte värden.\nsep=T betyder att alla värden är separerade med TAB.\ndec=\",\" betyder att komma används som decimalavgränsare (ex. 1,32)."
  },
  {
    "objectID": "tutorials/linear-regression/index.html#inspektera-data",
    "href": "tutorials/linear-regression/index.html#inspektera-data",
    "title": "Linjär regression",
    "section": "Inspektera data",
    "text": "Inspektera data\nBörja med att titta på datans struktur med str().\n\n\nCode\nstr(plant_reproduction_data)\n\n\n'data.frame':   20 obs. of  2 variables:\n $ Seeds       : int  466 501 467 489 496 521 522 517 506 427 ...\n $ Plant_height: int  45 45 44 54 52 57 53 50 48 32 ...\n\n\n$ Seeds: int betyder att värderna i kolumnen Seeds är heltal (integers)\n$ Plant_height: int betyder att värderna i kolumnen Mass är heltal (integers)\nOm du har en kolumn som innehåller decimaltal skall det stå num. Om det istället står chr betyder det att datat har punkt som decimalavgränsare, medan du läste in det med komma som avgränsare (eller tvärtom) och R tror att det är text. Justera koden och läs in datat på nytt (se vår tidigare tutorial Läsa in data i R för justerad kod).\nVisa sedan de fem första raderna av ditt dataset med head() för att se att allt ser korrekt ut\n\n\nCode\nhead(plant_reproduction_data)\n\n\n  Seeds Plant_height\n1   466           45\n2   501           45\n3   467           44\n4   489           54\n5   496           52\n6   521           57\n\n\n\nVisualisera datat med en enkel graf\nFör att göra grafen måste vi bestämma oss vad som skall vara på x-axeln, och vad som skall vara på y-axeln. Vilket av följande påstående är mest logiskt?\n\nVäxtens storlek påverkar hur många frön den har\nAntalet frön en växt har påverkar dess storlek\n\nAlternativ A är det som är mest logiskt. Alltså är det antalet frön som beror av växtens storlek. Därför skall vi ha antalet frön (Seeds) på y-axeln, och växtens storlek (Plants_height) på x-axeln.\nVi gör en enkel graf med funktionen plot() och lägger sedan till en regressionslinje med funktionen abline(). Grafen är inte publikationsduglig men ger en snabb överblick av våra data. Vi går igenom hur man gör en publiceringsduglig graf i den avslutande delen av vår tutorial, under Publiceringsduglig figur.\n\n\nCode\nplot(Seeds ~ Plant_height, data = plant_reproduction_data)\nabline(lm(Seeds ~ Plant_height, data = plant_reproduction_data))\n\n\n\n\n\nHur tolkar du grafen? Verkar det som att plantans höjd påverkar antalet frön den har?"
  },
  {
    "objectID": "tutorials/linear-regression/index.html#statistisk-modellering",
    "href": "tutorials/linear-regression/index.html#statistisk-modellering",
    "title": "Linjär regression",
    "section": "Statistisk modellering",
    "text": "Statistisk modellering\nVi vill nu göra en regressionsanalys för att undersöka om vår responsvariabel (beroende variabel) Seeds beror av vår förklarande variabel (oberoende variabel) Plants_height.\nVi specificerar en linjär modell med hjälp av funktionen lm() och väljer att spara resultatet i ett objekt som vi kallar m.plant_reproduction. Jag föredrar att alla mina modeller (resultat av statistka test) har ett namn som börjar med m. för att jag skall veta vad som är dataset och vad som är modeller. Ge alltid dina modeller beskrivande namn.\n\n\nCode\nm.plant_reproduction<-lm(Seeds~Plant_height,\n                    data=plant_reproduction_data)\n\n\nI vår modell har vi vår responsvariabel (det vi har på y-axeln) till vänster om tilde-tecknet ~ och vår förklarande variabel till höger. data=plant_reproduction_data betyder att vi använder oss av datasetet vi tidigare döpt till plant_reproduction_data.\n\nStatistiska resultat\nVi börjar med en ANOVA-tabell, och använder funktionen anova()\n\n\nCode\nanova(m.plant_reproduction)\n\n\nAnalysis of Variance Table\n\nResponse: Seeds\n             Df Sum Sq Mean Sq F value    Pr(>F)    \nPlant_height  1  18361 18360.8  68.681 1.477e-07 ***\nResiduals    18   4812   267.3                      \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n\nVi får en ANOVA-tabell och kan inspektera resultatet. Vi ser att p-värdet (här kallat Pr(>F)) är mindre än 0.05, dvs Plant_height har en signifikant effekt på Seeds. R indikerar även att det är signifikant genom att lägga till en eller flera stjärnor *. När du rapporterar p-värden i skrift anger du p-värdet med tre decimaler, eller “p < 0.001” vid väldigt låga p-värden.\nÄr det en positiv eller negativ effekt av Plant_height påSeeds? För att veta det behöver vi ta fram skattningen av alla parametrar i modellen, dvs var x-axeln skär y-axeln, och linjens lutning. För det användervi oss av funktionen summary().\n\n\nCode\nsummary(m.plant_reproduction)\n\n\n\nCall:\nlm(formula = Seeds ~ Plant_height, data = plant_reproduction_data)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-28.376 -13.475   3.509  12.360  24.505 \n\nCoefficients:\n             Estimate Std. Error t value Pr(>|t|)    \n(Intercept)  317.2300    22.2835  14.236 3.08e-11 ***\nPlant_height   3.7064     0.4472   8.287 1.48e-07 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 16.35 on 18 degrees of freedom\nMultiple R-squared:  0.7923,    Adjusted R-squared:  0.7808 \nF-statistic: 68.68 on 1 and 18 DF,  p-value: 1.477e-07\n\n\nCoefficients ger oss fakta om koefficienterna. Jämför gärna med figuren ni gjorde ovan. (Intercept) är värdet på y-axeln när x-axeln är noll, dvs där regressionslinjen skär y-axeln. Vi ser att den skär y-axeln vid 317.2300 och att p-värdet (Pr(>|t|)) är 3.08e-11 det vill säga mindre än 0.05, dvs interceptet är signifikant skiljt från noll. Plant_height är lutningen på regressionslinjen. Den har lutningskoefficienten 3.7064 och eftersom den inte börjar med ett minustecken vet vi att det är ett positivt samband mellan Plants_height ochSeeds (plustecken skrivs aldrig ut)\nR-square beskriver hur mycket av variationen i datat som förklaras av din statistiska modell. Kan gå från 0 (ingenting förklaras) till 1 (allt förklaras). R ger dig två värden, nämlingen Multiple R-squared och Adjusted R-squared. Använd Adjusted R-squared eftersom den tar hänsyn till antal parametrar i modellen."
  },
  {
    "objectID": "tutorials/linear-regression/index.html#presentera-din-statistiska-analys",
    "href": "tutorials/linear-regression/index.html#presentera-din-statistiska-analys",
    "title": "Linjär regression",
    "section": "Presentera din statistiska analys",
    "text": "Presentera din statistiska analys\nAntalet frön ökad med ökad höjd hos växten (linjär regression, F1,18 = 68.681, p < 0.001, R2 = 0.78).\nMan kan uttrycka den meningen på många sätt, ett alternativ är:\nJu högre växten är, desto fler frön har den (linjär regression, F1,18 = 68.681, p < 0.001, R2 = 0.78)."
  },
  {
    "objectID": "tutorials/linear-regression/index.html#utvärdera-den-statistiska-modellen",
    "href": "tutorials/linear-regression/index.html#utvärdera-den-statistiska-modellen",
    "title": "Linjär regression",
    "section": "Utvärdera den statistiska modellen",
    "text": "Utvärdera den statistiska modellen\nVar modellen lämplig att använda för ditt dataset?\nVi utvärderar modellen genom diagnostiska grafer genom att använda funktionen plot() på vår statistiska modell.\n\n\nCode\nplot(m.plant_reproduction)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nVi får fyra grafer att utvärdera, de två första är viktigast. Du kan behöva trycka upprepade gånger på ENTER för att se alla graferna (i R kommer de en och en).\nResiduals vs Fitted bör visa en hyfsat rak linje. Den visar hur mycket residualerna (skillnaden i y-led mellan varje värde av din response och regressionslinjen) avviker från regressionslinjen. Residualerna motsvaras av cirklar i grafen. Om du har ett mönster i avvikelserna så betyder det att en rak regressionslinje inte var en lämplig statistisk modell.\nNormal Q-Q visar om residualerna är normalfördelade. De bör följa den diagonala streckade linjen. Om de avviker på ett systematiskt sätt är residualerna inte perfekt normalfördelade, och vi kan behöva förändra modellen, exempelvis genom att transformera data.\nScale-Location illustrerar om variationen i datat är lika över alla värden. Om variationen ökar mycket åt höger (ett vanligt fall) så har vi större variation vid högre värden. Kan lösas genom att transformera data.\nResiduals vs Leverage används för att hitta extremvärden som har onormalt stor påverkan på regressionslinjen. Mönstret i grafen är inte intressant, vi letar efter värden som ligger utanför de grå linjerna, speciellt linjerna för 1. Man bör dubbelkolla sådana värden (outliers) och fundera på om de skall vara med i datasetet. Kanske analysera såväl med som utan extremvärderna?"
  },
  {
    "objectID": "tutorials/use-R/index.html#hur-ser-en-scriptfil-ut",
    "href": "tutorials/use-R/index.html#hur-ser-en-scriptfil-ut",
    "title": "Använda R, en introduktion",
    "section": "Hur ser en scriptfil ut?",
    "text": "Hur ser en scriptfil ut?\nVi börjar med att ladda ner en befintlig scriptfil: testscript.R (högerklicka, välj “spara länk som”) och spara den på lämpligt ställe på din hårddisk. Välj sedan file -> open document i R, eller file -> open file i RStudio. Scriptfilen öppnas nu som ett nytt fönster (i R) eller i den övra vänstra delen av programmet (i RStudio).\nLåt oss ta en titt på scriptet\n\n\n\n\n\n\nKommentarer (annoteringar)\nVi ser att den första raden börjar med en hashtag (#).\n# Det här är ett testscript där vi tittar på hur ett script fungerar\nInnebörden är att raden inte tolkas som kod, utan som en kommentar till din kod. En fil som bara innehåller kod men inga kommentarer är ganska obegriplig, även för dig själv när du återvänder till scriptet några dagar senare. Vi använder kommentarerna för att dokumentera:\n\nVad vi gör\nVarför vi gör det\n\nEn väldokumenterad scriptfil (kallas också en väl annoterad scriptfil) är enkel att återvända till för att återupprepa analyserna eller tillämpa dem på nya dataset. Använder man RStudio färgas kommentarerna automatiskt i en avvikande färg.\n\n\nKod i scriptfiler\nDen första raden som inte börjar med en # är raden som lyder: 1+1\nDet är en rad med kod. I vårt script har vi dokumenterat vår fråga till R “vad är 1+1?”. Men vi har ännu inget svar från R. Vi har dokumenterat frågan, men inte ställt frågan än. Vi måste köra den raden i scriptet för att R skall ge oss ett svar.\nI princip kan man markera raden, kopiera koden och klistra in i konsolen (ha det som backuplösning om du glömmer bort hur man gör), men det är mycket smidigare att göra följande:\nMarkera koden du vill köra och:\n\ntryck command + Enter (på Mac)\ntryck ctrl + r (i Windows)\n\nKör raden med koden 1+1 enligt instruktionen ovan:\n\n\nCode\n1+1\n\n\n[1] 2\n\n\nNär du kört raden så dyker den upp i kosnolen, och på raden under får du svaret från R.\n\n\nKör kod i rätt ordning\nDen raden kod vi körde innehåller inga objekt, så den kan köras oberoende av andra rader. Men testa att köra raden: studiemedel2025 - studiemedel2024\nFår du ett felmeddelande? Error: object 'studiemedel2025' not found\nDet betyder att du ber R att göra någonting med ett objekt, men R vet inte vad det är för objekt. Du har dokumenterat skapandet av objektet i ditt script några rader ovanför:\n\n\nCode\n# Skapa objekt med studiemedel för respektive år\nstudiemedel2024 <- 13156\nstudiemedel2025 <-13500\n\n\nDu måste först köra de raderna, så att R vet vad objekten studiemedel2024 och studiemedel2025 innehåller. Sedan kan du köra raden studiemedel2025 - studiemedel2024 på nytt. Då skall det fungera!\n\n\nCode\n# Beräkna höjningen i kronor\nstudiemedel2025 - studiemedel2024\n\n\n[1] 344"
  },
  {
    "objectID": "tutorials/use-R/index.html#skriv-ditt-första-script",
    "href": "tutorials/use-R/index.html#skriv-ditt-första-script",
    "title": "Använda R, en introduktion",
    "section": "Skriv ditt första script",
    "text": "Skriv ditt första script\nNu skall vi testa att skriva ett eget script! Vi börjar med att skapa en scriptfil genom att klicka oss fram i menyerna:\n\nR: välj FIle > New document\nRStudio: välj File > New file > R Script\n\nDin uppgift är följande: Skapa ett script som räknar ut hur många år en person fyller i år (till exempel hur många år du fyller i år). Använd vårt script om studiemedelshöjningen ovan som inspirationskälla och kommentera scriptet väl.\nFörsök själv, men kör du fast kan du tjuvkika på en möjlig lösning nedan (under Code).\n\n\nCode\n# Ett skript för att räkna ut hur många år en person fyller\n\n# Ange vilket år det är i år\nyear_now <- 2026\n\n# Ange när personen är född\nyear_born <- 1998\n\n# Beräkna hur många år personen fyller i år\n\nyear_now - year_born\n\n\n[1] 28\n\n\nGlöm inte att spara ditt script med ett passande namn på din hårddisk. I R måste du skriva in filändelsen .R när du sparar scriptet första gången, medan RStudio automatiskt lägger till den filändelsen."
  },
  {
    "objectID": "tutorials/t-test/index.html#publiceringsduglig-figur",
    "href": "tutorials/t-test/index.html#publiceringsduglig-figur",
    "title": "t-test",
    "section": "Publiceringsduglig figur",
    "text": "Publiceringsduglig figur\nVi avslutar med att göra en publiceringsduglig figur, och använder oss av paketet ggplot2. Om du inte sedan tidigare har paketet installerat så gör du det med koden install.packages(\"ggplot2\"). Innan du använder paketet behöver du läsa in det i din session i R genom funktionen library()\n\nFörst - en enkel plot med ggplot2\n\n\nCode\nlibrary(ggplot2)\n\nplot.nutrient.simple <- ggplot(nutrientdata, aes(x = Nutrient_level, y = Mass, fill = Nutrient_level)) +\n  stat_summary(geom = \"bar\", fun = mean, width = 0.4) +\n  stat_summary(geom = \"errorbar\", fun.data = mean_se, width = 0.1) +\n  theme_classic()\n\nplot.nutrient.simple\n\n\n\n\n\nVi går nu igenom koden för vår plot. Den är utspridd över flera rader, där varje rad avslutas med ett + för att R skall förstå att koden fortsätter på nästa rad.\nggplot(nutrientdata, aes(x = Nutrient_level, y = Mass, fill = Nutrient_level)) + betyder att vi använder oss av funktionen ggplot(), och det första vi anger är namnet på vårt dataset, som vi kallade nutrientdata.\naes() är en funktion inom ggplot, här anger vi estetiken (aes står för aestetics). Vi anger namnet på de variabler som skall vara på x-axeln respektive y-axeln med x = Nutrient_level, y = Mass och eftersom vi vill att de olika nivåerna av vår faktor på x-axeln skall få olika färg lägger vi till fill = Nutrient_level.\nstat_summary(geom = \"bar\", fun = mean, width = 0.4) + betuder att vi vill beräkna summarisk statistik från vårt dataset och visa det med hjälp av funktionen stat_summary(). geom = \"bar\" betyder att vi vill göra ett stapeldiagram (\"bar\" står för barplot). fun = mean betyder att staplarna skall baseras på medelvärdet, och width = 0.4 betyder att de skall ha en relativ bredd på 0.4 (testa att ändra, men för breda staplar ser ofta fult ut)\nstat_summary(geom = \"errorbar\", fun.data = mean_se, width = 0.1) + Den här raden är också en stat_summary(), men här lägger vi till ett annat element till grafen. geom = \"errorbar\" betyder att vi nu vill lägga till felstaplar (errorbars),fun.data = mean_se betyder att felstaplarna skall representera standard error och vi anger deras bredd med width = 0.1, Felstaplar bör vara smalare än staplarna.\ntheme_classic() är ett tema för grafer. Det är det temat som gör att graferna ser ut så som vi förväntar oss i naturvetenskapliga publikationer (vit bakgrund, inga stödlinjer, ren design). Notera att det är sista raden i vårt script, så den skall inte avslutas med plustecken.\n\n\nModifiera din plot så den blir publiceringsduglig\nVår enkla figur där vi enbart anger dataset och våra variablar blev ju inte alls tokig, men vi kan förbättra den. Vi skulle vilja fixa till följande:\n\nVi vill att det skall stå Nutrient level och inte Nutrient_level på x-axeln, fixas med xlab()\nVi vill ange att massan är mätt i gram, fixas med ylab()\nVi vill välja andra färger, och dessutom skall det inte stå Nutrient_level i vår legend. Fixas med scale_fill_manual()\n\n\n\nCode\nlibrary(ggplot2)\n\nplot.nutrient <- ggplot(nutrientdata, aes(x = Nutrient_level, y = Mass, fill = Nutrient_level)) +\n  stat_summary(geom = \"bar\", fun = mean, width = 0.4) +\n  stat_summary(geom = \"errorbar\", fun.data = mean_se, width = 0.1) +\n  xlab(\"Nutrient level\")+\n  ylab(\"Mass (g)\")+\n  scale_fill_manual(name = \"Nutrient level\", values = c(\"High\" = \"darkgreen\", \"Low\" = \"palegreen\"))+\n  theme_classic()\n\nplot.nutrient\n\n\n\n\n\nOm du vill se en lista med namn på alla färger som R innehåller så kör du koden colors(). Om du vill ha en specifik färg (och vet vad du gör) så kan du även ta fram färgens hexidecimala kod i ett bildbehandlingsprogram och ange den istället."
  },
  {
    "objectID": "tutorials/linear-regression/index.html#publiceringsduglig-figur",
    "href": "tutorials/linear-regression/index.html#publiceringsduglig-figur",
    "title": "Linjär regression",
    "section": "Publiceringsduglig figur",
    "text": "Publiceringsduglig figur\nVi avslutar med att göra en publiceringsduglig figur, och använder oss av paketet ggplot2. Om du inte sedan tidigare har paketet installerat så gör du det med koden install.packages(\"ggplot2\"). Innan du använder paketet behöver du läsa in det i din session i R genom funktionen library()\n\nFörst - en enkel plot med ggplot2\n\n\nCode\nlibrary(ggplot2)\n\nplot.plant_reproduction.simple <- ggplot(plant_reproduction_data, aes(x = Plant_height, y = Seeds)) +\n  geom_point() +\n  geom_smooth(method = \"lm\", se = FALSE) +\n  theme_classic()\n\nplot.plant_reproduction.simple\n\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\n\n\n\nVi går nu igenom koden för vår plot. Den är utspridd över flera rader, där varje rad avslutas med ett + för att R skall förstå att koden fortsätter på nästa rad.\nggplot(plant_reproduction_data, aes(x = Plant_height, y = Seeds)) + betyder att vi använder oss av funktionen ggplot(), och det första vi anger är namnet på vårt dataset, som vi kallade plant_reproduction_data.\naes() är en funktion inom ggplot, här anger vi estetiken (aes står för aestetics). Vi anger namnet på de variabler som skall vara på x-axeln respektive y-axeln med x = Plant_height, y = Seeds.\ngeom_point() + betuder att vi vill att varje datapunkt skall bli en punkt\ngeom_smooth(method = \"lm\", se = FALSE) + betyder att vi lägger till en linjär regressionslinje med method = \"lm\" och vi vill inte ha standardavvikelser, vilket vi anger med se = FALSE. Man brukar inte ha med det i grafer med regressioner. Vill du ändå ha osäkerheten i grafen kan du ersätta FALSE med TRUE.\ntheme_classic() är ett tema för grafer. Det är det temat som gör att graferna ser ut så som vi förväntar oss i naturvetenskapliga publikationer (vit bakgrund, inga stödlinjer, ren design). Notera att det är sista raden i vårt script, så den skall inte avslutas med plustecken.\n\n\nPubliceringsbar figur\nDen blev helt ok, men vi kan förbättra den.\n\nVi vill att det skall stå “Plant height (cm)” på x-axeln, fixas med xlab()\nVi vill att det skall stå “Number of seeds” på y-axeln, fixas med ylab()\nVi vill välja blå punkter, och vi vill att de skall vara lite större,fixas med cex och color inom geom_point()\nVi vill att regressionslinjen skall vara svart och som punkter, fixas med color och lty (står för line type) i geom_smooth()\n\n\n\nCode\nlibrary(ggplot2)\n\nplot.plant_reproduction <- ggplot(plant_reproduction_data, aes(x = Plant_height, y = Seeds)) +\n  geom_point(cex = 3, colour = \"blue\") +\n  geom_smooth(method = \"lm\", se = FALSE, lty = 3, color = \"black\") +\n  xlab(\"Plant height (cm)\")+\n  ylab(\"Number of seeds\")+\n  theme_classic()\n\nplot.plant_reproduction\n\n\n`geom_smooth()` using formula = 'y ~ x'"
  },
  {
    "objectID": "tutorials/correlation/index.html",
    "href": "tutorials/correlation/index.html",
    "title": "Korrelationer",
    "section": "",
    "text": "En korrelationsanalys används om man vill undersöka om två kontinuerliga variabler samvarierar, men till skillnad från vid regressionsanalys så har man nu ingen hypotes om att det finns ett orsakssamband mellan dem. Det spelar alltså ingen roll vilken variabel som är på y-axeln och vilken som är på x-axeln.\nKorrelationer används ofta om man vill undersöka mönster snarare än att testa hypoteser."
  },
  {
    "objectID": "tutorials/correlation/index.html#läs-in-data",
    "href": "tutorials/correlation/index.html#läs-in-data",
    "title": "Korrelationer",
    "section": "Läs in data",
    "text": "Läs in data\nVi vill undersöka om det finns en korrelation mellan diametern och höjden på ett antal trädindivider av samma art.\nLadda ner följande fil trees.txt (högerklicka, välj “spara länk som”) och spara filen på din hårddisk i en mapp med ett lämpligt namn.\nFortsätt med att läsa in ett dataset och ge det ett namn, i det här fallet kallar vi det tree.data. En detalerad beskrivning i hur man läser in filer finns i vår tidigare tutorial Läsa in data i R.\n\n\nCode\ntree.data<-read.table(\"data/trees.txt\",\n                      header = T, sep = \"\\t\", dec = \",\")"
  },
  {
    "objectID": "tutorials/correlation/index.html#inspektera-data",
    "href": "tutorials/correlation/index.html#inspektera-data",
    "title": "Korrelationer",
    "section": "Inspektera data",
    "text": "Inspektera data\nBörja med att titta på datans struktur med str().\n\n\nCode\nstr(tree.data)\n\n\n'data.frame':   50 obs. of  2 variables:\n $ diameter: num  1.49 1.64 1.06 1.77 1.01 ...\n $ height  : num  14.5 20.9 16.1 22.4 14.7 ...\n\n\n$ diameter: num betyder att värderna i kolumnen diameter är decimaltal (numeric)\n$ height: num betyder att värderna i kolumnen height är decimaltal (numeric)\nVisa sedan de fem första raderna av ditt dataset med head() för att se att allt ser korrekt ut\n\n\nCode\nhead(tree.data)\n\n\n  diameter   height\n1 1.485763 14.53057\n2 1.635011 20.94121\n3 1.059496 16.10711\n4 1.773606 22.39200\n5 1.012026 14.73974\n6 1.905565 17.44242"
  },
  {
    "objectID": "tutorials/correlation/index.html#visualisera-datat-med-en-enkel-graf",
    "href": "tutorials/correlation/index.html#visualisera-datat-med-en-enkel-graf",
    "title": "Korrelationer",
    "section": "Visualisera datat med en enkel graf",
    "text": "Visualisera datat med en enkel graf\nVi gör en graf med plot(). Eftersom vi inte har någon hypotes om ett orsakssamband mellan våra variabler spelar det ingen roll vilken vi har på vilken axel (hade vi haft en hypotes om ett orsakssamband så hade vi gjort en regression istället).\n\n\nCode\nplot(height ~ diameter, data = tree.data)\n\n\n\n\n\nSer det ut som att diameter och height är korrelerade med varandra? Är det i så fall en positiv eller negativ korrelation?"
  },
  {
    "objectID": "tutorials/correlation/index.html#statistisk-modellering",
    "href": "tutorials/correlation/index.html#statistisk-modellering",
    "title": "Korrelationer",
    "section": "Statistisk modellering",
    "text": "Statistisk modellering\nVi vill nu göra en korrelationsanalys mellan våra två variablar.\nVi använder oss av funktionen cor.test() och väljer att spara resultatet i ett objekt som vi kallar m.trees.\n\n\nCode\nm.trees <- cor.test(tree.data$diameter, tree.data$height, method = \"p\")\n\n\nNotera att korrelationstesten kräver att man anger modellen på ett annat sätt än i andra metoder. Istället för att ange våra variablar och sedan datasetet, måste vi ange dataset och variabel tillsammans, genom koden dataset$variabel. Till vänster om dollartecknet är datasetets namn, till höger är variabelnamnet.\nmethod=\"p\"specificerar metoden vi skall använda oss av för att göra korrelationen. p står för Pearson och används om data är normalfördelade.\nVi skriver modellnamnet och kör koden\n\n\nCode\nm.trees\n\n\n\n    Pearson's product-moment correlation\n\ndata:  tree.data$diameter and tree.data$height\nt = 2.6562, df = 48, p-value = 0.0107\nalternative hypothesis: true correlation is not equal to 0\n95 percent confidence interval:\n 0.08844295 0.57866607\nsample estimates:\n     cor \n0.357978 \n\n\nVi kan inspektera resultatet. Vi ser att p-värdet är mindre än 0.05, dvs vi har en signifikant korrelation. Vi får även teststatistika i form av t-värde och frihetsgrader (df).\nVi får även ett värde på korrelations-coefficienten cor (vanligtvis kallad r ), som är 0.36. r kan gå mellan -1 och +1, där -1 representerar en perfekt negativ korrelation, +1 representerar en perfekt positiv korrelation och 0 betyder att en korrelation saknas. Vi har en positiv korrelation. Stämmer det när du inspekterar grafen ovan?\nNotera att r (i korrelationsanalyser) och r2 (i regressioner) inte är samma sak. r skall inte heller tolkas som en regressionskoefficient (som ju kan anta hur positiva eller negativa värden som helst, medan r alltid ligger mellan -1 och +1)."
  },
  {
    "objectID": "tutorials/correlation/index.html#presentera-din-statistiska-analys",
    "href": "tutorials/correlation/index.html#presentera-din-statistiska-analys",
    "title": "Korrelationer",
    "section": "Presentera din statistiska analys",
    "text": "Presentera din statistiska analys\nTrädens höjd är positivt korrelerad med diametern (t = 2,66, df = 48, p = 0,011, r = 0,38).\nEftersom vi inte har någon hypotes om orsakssamband (det är därför vi gör en korrelation och inte en regression) kan man även uttrycka samma mening med variablarna omkastade:\nTrädens diameter är positivt korrelerad med höjden (t = 2,66, df = 48, p = 0,011, r = 0,38)."
  },
  {
    "objectID": "tutorials/correlation/index.html#utvärdera-modellen",
    "href": "tutorials/correlation/index.html#utvärdera-modellen",
    "title": "Korrelationer",
    "section": "Utvärdera modellen",
    "text": "Utvärdera modellen\nDet finns ingen implementering av plot(modellnamn)för korrelationstest, så vi får istället undersöka om våra data var normalfördelade. Det kan göras grafiskt eller med ett test. Om data inte verkar vara normalfördelade använder du method = \"s\" i modellen (det är en mindre kraftfull metod som dock kan hantera icke-normalfördelade data).\n\nGrafiskt - histogram\nHistogram har värdet hos din variabel på x-axeln, och frekvens (antalet observationer) på y-axeln. En normalfördelning har flest observationer av värden runt medelvärdet, och antalet observationer minskar sedan symmetriskt om man går mot extremare värden.\n\n\nCode\nhist(tree.data$diameter)\n\n\n\n\n\n\n\nCode\nhist(tree.data$height)\n\n\n\n\n\nDet ser normalfördelat ut. Om det blir för få staplar kan man ange antal staplar med koden breaks =. Man får testa sig fram till ett lämpligt antal breaks.\n\n\nCode\nhist(tree.data$height, breaks = 14)\n\n\n\n\n\n\n\nTest för normalfördelning\nJag rekommenderar inte att du testar för normalfördelning om du har stora dataset. Testen undersöker avvikelse från normalfördelning, och ju mer data du har, desto kraftfullare blir testen och kan upptäcka minimala avvikelser som inte spelar någon praktisk roll för de statistiska testen. Men om du nödvändigtvis vill ha ett test så använd följande:\n\n\nCode\nshapiro.test(tree.data$height)\n\n\n\n    Shapiro-Wilk normality test\n\ndata:  tree.data$height\nW = 0.98877, p-value = 0.9133\n\n\n\n\nCode\nshapiro.test(tree.data$diameter)\n\n\n\n    Shapiro-Wilk normality test\n\ndata:  tree.data$diameter\nW = 0.97815, p-value = 0.4769\n\n\nOm testet är icke-signifikant betyder det att data inte avviker från normalfördelning (dvs data är normalfördelat). Om histogramen ser bra ut, men du ändå får en signifikant avvikelse från normalfördelning (speciellt vid större dataset) skulle jag gå på histogramen."
  }
]